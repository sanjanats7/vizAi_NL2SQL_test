[2025-03-31 16:49:39] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/queries/
[2025-03-31 16:49:39] INFO - api - queries - get_queries - Received request: db_schema='{"tables": [{"name": "sales_data", "columns": [{"name": "transaction_id", "type": "TEXT"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "BIGINT"}, {"name": "product_name", "type": "TEXT"}, {"name": "category", "type": "TEXT"}, {"name": "price", "type": "DOUBLE PRECISION"}, {"name": "discount", "type": "DOUBLE PRECISION"}, {"name": "final_price", "type": "DOUBLE PRECISION"}, {"name": "revenue", "type": "DOUBLE PRECISION"}, {"name": "payment_type", "type": "TEXT"}, {"name": "location", "type": "TEXT"}, {"name": "sales_channel", "type": "TEXT"}, {"name": "return_status", "type": "TEXT"}, {"name": "inventory_status", "type": "TEXT"}, {"name": "year", "type": "INTEGER"}, {"name": "month", "type": "INTEGER"}, {"name": "day", "type": "INTEGER"}, {"name": "hour", "type": "INTEGER"}, {"name": "weekday", "type": "INTEGER"}, {"name": "is_weekend", "type": "BIGINT"}, {"name": "7_day_avg_revenue", "type": "DOUBLE PRECISION"}, {"name": "revenue_change", "type": "DOUBLE PRECISION"}, {"name": "customer_segment", "type": "TEXT"}], "primary_keys": {"name": null, "constrained_columns": []}, "foreign_keys": []}, {"name": "sales_data_partitioned", "columns": [{"name": "transaction_id", "type": "UUID"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "INTEGER"}, {"name": "category", "type": "TEXT"}, {"name": "region", "type": "TEXT"}], "primary_keys": {"constrained_columns": ["transaction_id", "timestamp"], "name": "sales_data_partitioned_pkey", "comment": null}, "foreign_keys": []}], "min_date": "2024-09-29", "max_date": "2025-03-31"}' db_type='postgres' role='Admin' domain='ecommerce' min_date='2024-09-29T00:00:00' max_date='2025-03-31T00:00:00' api_key=''
[2025-03-31 16:49:39] INFO - api - queries - get_queries - Processed date range: 2024-09-29 to 2025-03-31
[2025-03-31 16:49:39] INFO - api - queries - get_queries - Using database type: postgres
[2025-03-31 16:50:14] INFO - api - queries - get_queries - Generated 32 queries successfully
[2025-03-31 16:50:14] INFO - app - main - log_requests - Response status: 200
[2025-03-31 17:13:56] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/queries/
[2025-03-31 17:13:56] INFO - api - queries - get_queries - Received request: db_schema='{"tables": [{"name": "sales_data", "columns": [{"name": "transaction_id", "type": "TEXT"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "BIGINT"}, {"name": "product_name", "type": "TEXT"}, {"name": "category", "type": "TEXT"}, {"name": "price", "type": "DOUBLE PRECISION"}, {"name": "discount", "type": "DOUBLE PRECISION"}, {"name": "final_price", "type": "DOUBLE PRECISION"}, {"name": "revenue", "type": "DOUBLE PRECISION"}, {"name": "payment_type", "type": "TEXT"}, {"name": "location", "type": "TEXT"}, {"name": "sales_channel", "type": "TEXT"}, {"name": "return_status", "type": "TEXT"}, {"name": "inventory_status", "type": "TEXT"}, {"name": "year", "type": "INTEGER"}, {"name": "month", "type": "INTEGER"}, {"name": "day", "type": "INTEGER"}, {"name": "hour", "type": "INTEGER"}, {"name": "weekday", "type": "INTEGER"}, {"name": "is_weekend", "type": "BIGINT"}, {"name": "7_day_avg_revenue", "type": "DOUBLE PRECISION"}, {"name": "revenue_change", "type": "DOUBLE PRECISION"}, {"name": "customer_segment", "type": "TEXT"}], "primary_keys": {"name": null, "constrained_columns": []}, "foreign_keys": []}, {"name": "sales_data_partitioned", "columns": [{"name": "transaction_id", "type": "UUID"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "INTEGER"}, {"name": "category", "type": "TEXT"}, {"name": "region", "type": "TEXT"}], "primary_keys": {"constrained_columns": ["transaction_id", "timestamp"], "name": "sales_data_partitioned_pkey", "comment": null}, "foreign_keys": []}], "min_date": "2024-09-29", "max_date": "2025-03-31"}' db_type='postgres' role='Admin' domain='ecommerce' min_date='2024-09-29T00:00:00' max_date='2025-03-31T00:00:00' api_key=''
[2025-03-31 17:13:56] INFO - api - queries - get_queries - Processed date range: 2024-09-29 to 2025-03-31
[2025-03-31 17:13:56] INFO - api - queries - get_queries - Using database type: postgres
[2025-03-31 17:14:34] INFO - api - queries - get_queries - Generated 32 queries successfully
[2025-03-31 17:14:34] INFO - app - main - log_requests - Response status: 200
[2025-03-31 18:03:18] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-03-31 18:03:18] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what is the average order value?
[2025-03-31 18:03:18] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-03-31 18:03:18] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: public
[2025-03-31 18:03:21] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-03-31 18:03:21] INFO - app - main - log_requests - Response status: 200
[2025-04-01 11:00:49] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:00:49] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what is the average order value?
[2025-04-01 11:00:50] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 11:00:50] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: public
[2025-04-01 11:00:53] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 11:00:53] INFO - app - main - log_requests - Response status: 200
[2025-04-01 11:01:12] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:01:12] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what is the average order value in sales_data?
[2025-04-01 11:01:12] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 11:01:12] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: public
[2025-04-01 11:01:15] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 11:01:15] INFO - app - main - log_requests - Response status: 200
[2025-04-01 11:14:54] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:14:55] INFO - app - main - log_requests - Response status: 422
[2025-04-01 11:17:20] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:17:20] INFO - app - main - log_requests - Response status: 422
[2025-04-01 11:21:45] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:21:45] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what is the average order value?
[2025-04-01 11:21:45] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 11:21:45] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-29', 'max_date': '2025-03-31'}
[2025-04-01 11:21:46] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 11:21:46] INFO - app - main - log_requests - Response status: 200
[2025-04-01 11:22:43] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:22:43] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what are the different payment types?
[2025-04-01 11:22:43] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 11:22:43] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-29', 'max_date': '2025-03-31'}
[2025-04-01 11:22:43] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 11:22:43] INFO - app - main - log_requests - Response status: 200
[2025-04-01 11:29:13] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:29:13] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what are the different payment types?
[2025-04-01 11:29:13] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 11:29:13] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-29', 'max_date': '2025-03-31'}
[2025-04-01 11:29:13] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 11:29:13] INFO - app - main - log_requests - Response status: 200
[2025-04-01 11:40:04] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:40:04] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what are the different payment types?
[2025-04-01 11:40:04] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 11:40:04] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-29', 'max_date': '2025-03-31'}
[2025-04-01 11:40:06] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 11:40:06] INFO - app - main - log_requests - Response status: 200
[2025-04-01 11:41:38] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:41:38] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what is the distribution of sales across different payment types?
[2025-04-01 11:41:38] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 11:41:38] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-29', 'max_date': '2025-03-31'}
[2025-04-01 11:41:41] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 11:41:41] INFO - app - main - log_requests - Response status: 200
[2025-04-01 11:44:53] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 11:44:53] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what are the top 3 selling products?
[2025-04-01 11:44:53] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 11:44:53] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-29', 'max_date': '2025-03-31'}
[2025-04-01 11:44:56] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 11:44:56] INFO - app - main - log_requests - Response status: 200
[2025-04-01 12:01:49] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/queries/
[2025-04-01 12:01:49] INFO - api - queries - get_queries - Received request: db_schema='{"tables": [{"name": "sales_data", "columns": [{"name": "transaction_id", "type": "TEXT"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "BIGINT"}, {"name": "product_name", "type": "TEXT"}, {"name": "category", "type": "TEXT"}, {"name": "price", "type": "DOUBLE PRECISION"}, {"name": "discount", "type": "DOUBLE PRECISION"}, {"name": "final_price", "type": "DOUBLE PRECISION"}, {"name": "revenue", "type": "DOUBLE PRECISION"}, {"name": "payment_type", "type": "TEXT"}, {"name": "location", "type": "TEXT"}, {"name": "sales_channel", "type": "TEXT"}, {"name": "return_status", "type": "TEXT"}, {"name": "inventory_status", "type": "TEXT"}, {"name": "year", "type": "INTEGER"}, {"name": "month", "type": "INTEGER"}, {"name": "day", "type": "INTEGER"}, {"name": "hour", "type": "INTEGER"}, {"name": "weekday", "type": "INTEGER"}, {"name": "is_weekend", "type": "BIGINT"}, {"name": "7_day_avg_revenue", "type": "DOUBLE PRECISION"}, {"name": "revenue_change", "type": "DOUBLE PRECISION"}, {"name": "customer_segment", "type": "TEXT"}], "primary_keys": {"name": null, "constrained_columns": []}, "foreign_keys": []}, {"name": "sales_data_partitioned", "columns": [{"name": "transaction_id", "type": "UUID"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "INTEGER"}, {"name": "category", "type": "TEXT"}, {"name": "region", "type": "TEXT"}], "primary_keys": {"constrained_columns": ["transaction_id", "timestamp"], "name": "sales_data_partitioned_pkey", "comment": null}, "foreign_keys": []}], "min_date": "2024-09-30", "max_date": "2025-04-01"}' db_type='postgres' role='Admin' domain='ecommerce' min_date='2024-09-30T00:00:00' max_date='2025-04-01T00:00:00' api_key=''
[2025-04-01 12:01:49] INFO - api - queries - get_queries - Processed date range: 2024-09-30 to 2025-04-01
[2025-04-01 12:01:49] INFO - api - queries - get_queries - Using database type: postgres
[2025-04-01 12:02:26] INFO - api - queries - get_queries - Generated 31 queries successfully
[2025-04-01 12:02:26] INFO - app - main - log_requests - Response status: 200
[2025-04-01 12:03:07] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 12:03:07] INFO - app - main - log_requests - Response status: 422
[2025-04-01 12:37:16] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/queries/
[2025-04-01 12:37:16] INFO - api - queries - get_queries - Received request: db_schema='{"tables": [{"name": "sales_data", "columns": [{"name": "transaction_id", "type": "TEXT"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "BIGINT"}, {"name": "product_name", "type": "TEXT"}, {"name": "category", "type": "TEXT"}, {"name": "price", "type": "DOUBLE PRECISION"}, {"name": "discount", "type": "DOUBLE PRECISION"}, {"name": "final_price", "type": "DOUBLE PRECISION"}, {"name": "revenue", "type": "DOUBLE PRECISION"}, {"name": "payment_type", "type": "TEXT"}, {"name": "location", "type": "TEXT"}, {"name": "sales_channel", "type": "TEXT"}, {"name": "return_status", "type": "TEXT"}, {"name": "inventory_status", "type": "TEXT"}, {"name": "year", "type": "INTEGER"}, {"name": "month", "type": "INTEGER"}, {"name": "day", "type": "INTEGER"}, {"name": "hour", "type": "INTEGER"}, {"name": "weekday", "type": "INTEGER"}, {"name": "is_weekend", "type": "BIGINT"}, {"name": "7_day_avg_revenue", "type": "DOUBLE PRECISION"}, {"name": "revenue_change", "type": "DOUBLE PRECISION"}, {"name": "customer_segment", "type": "TEXT"}], "primary_keys": {"name": null, "constrained_columns": []}, "foreign_keys": []}, {"name": "sales_data_partitioned", "columns": [{"name": "transaction_id", "type": "UUID"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "INTEGER"}, {"name": "category", "type": "TEXT"}, {"name": "region", "type": "TEXT"}], "primary_keys": {"constrained_columns": ["transaction_id", "timestamp"], "name": "sales_data_partitioned_pkey", "comment": null}, "foreign_keys": []}], "min_date": "2024-09-30", "max_date": "2025-04-01"}' db_type='postgres' role='Admin' domain='ecommerce' min_date='2024-09-30T00:00:00' max_date='2025-04-01T00:00:00' api_key=''
[2025-04-01 12:37:16] INFO - api - queries - get_queries - Processed date range: 2024-09-30 to 2025-04-01
[2025-04-01 12:37:16] INFO - api - queries - get_queries - Using database type: postgres
[2025-04-01 12:37:54] INFO - api - queries - get_queries - Generated 30 queries successfully
[2025-04-01 12:37:54] INFO - app - main - log_requests - Response status: 200
[2025-04-01 12:39:23] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 12:39:23] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what are the top 3 selling products?
[2025-04-01 12:39:23] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 12:39:23] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 12:39:27] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 12:39:27] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:11:18] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:11:18] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what are the top 3 selling products?
[2025-04-01 13:11:18] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:11:18] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-29', 'max_date': '2025-03-31'}
[2025-04-01 13:11:22] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:11:22] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:12:20] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:12:20] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what are the top 3 selling products?
[2025-04-01 13:12:20] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:12:20] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:12:22] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:12:22] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:14:56] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:14:56] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: what are the top 3 selling products?
[2025-04-01 13:14:56] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:14:56] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:14:59] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:14:59] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:16:00] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:16:00] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: What are the top 5 products by revenue in 2025?
[2025-04-01 13:16:00] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:16:00] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:16:03] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:16:03] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:16:53] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:16:53] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: How do sales vary by payment type across different locations?
[2025-04-01 13:16:53] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:16:53] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:16:56] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:16:56] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:20:56] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/queries/
[2025-04-01 13:20:56] INFO - api - queries - get_queries - Received request: db_schema='{"tables": [{"name": "sales_data", "columns": [{"name": "transaction_id", "type": "TEXT"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "BIGINT"}, {"name": "product_name", "type": "TEXT"}, {"name": "category", "type": "TEXT"}, {"name": "price", "type": "DOUBLE PRECISION"}, {"name": "discount", "type": "DOUBLE PRECISION"}, {"name": "final_price", "type": "DOUBLE PRECISION"}, {"name": "revenue", "type": "DOUBLE PRECISION"}, {"name": "payment_type", "type": "TEXT"}, {"name": "location", "type": "TEXT"}, {"name": "sales_channel", "type": "TEXT"}, {"name": "return_status", "type": "TEXT"}, {"name": "inventory_status", "type": "TEXT"}, {"name": "year", "type": "INTEGER"}, {"name": "month", "type": "INTEGER"}, {"name": "day", "type": "INTEGER"}, {"name": "hour", "type": "INTEGER"}, {"name": "weekday", "type": "INTEGER"}, {"name": "is_weekend", "type": "BIGINT"}, {"name": "7_day_avg_revenue", "type": "DOUBLE PRECISION"}, {"name": "revenue_change", "type": "DOUBLE PRECISION"}, {"name": "customer_segment", "type": "TEXT"}], "primary_keys": {"name": null, "constrained_columns": []}, "foreign_keys": []}, {"name": "sales_data_partitioned", "columns": [{"name": "transaction_id", "type": "UUID"}, {"name": "timestamp", "type": "TIMESTAMP"}, {"name": "customer_id", "type": "INTEGER"}, {"name": "product_id", "type": "INTEGER"}, {"name": "category", "type": "TEXT"}, {"name": "region", "type": "TEXT"}], "primary_keys": {"constrained_columns": ["transaction_id", "timestamp"], "name": "sales_data_partitioned_pkey", "comment": null}, "foreign_keys": []}], "min_date": "2024-09-30", "max_date": "2025-04-01"}' db_type='postgres' role='Admin' domain='ecommerce' min_date='2024-09-30T00:00:00' max_date='2025-04-01T00:00:00' api_key=''
[2025-04-01 13:20:56] INFO - api - queries - get_queries - Processed date range: 2024-09-30 to 2025-04-01
[2025-04-01 13:20:56] INFO - api - queries - get_queries - Using database type: postgres
[2025-04-01 13:21:29] INFO - api - queries - get_queries - Generated 30 queries successfully
[2025-04-01 13:21:30] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:21:43] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:21:43] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: What is the revenue trend by month for the 'Electronics' category?
[2025-04-01 13:21:43] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:21:43] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:21:46] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:21:46] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:22:27] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:22:27] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: Which customer segments have the highest average revenue on weekends?
[2025-04-01 13:22:27] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:22:27] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:22:29] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:22:29] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:23:10] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:23:10] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: What are the most common payment types and their transaction counts?
[2025-04-01 13:23:10] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:23:10] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:23:12] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:23:12] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:24:06] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:24:06] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: How does revenue correlate with discounts for products sold online?
[2025-04-01 13:24:06] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:24:06] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:24:08] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:24:08] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:33:47] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:33:47] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: How do sales vary by payment type across different locations?
[2025-04-01 13:33:47] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:33:47] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:33:58] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:33:58] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:37:09] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:37:09] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: How do sales vary by payment type across different locations?
[2025-04-01 13:37:09] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:37:09] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:37:13] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:37:13] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:38:35] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:38:35] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: What are the top 5 products by revenue in 2025?
[2025-04-01 13:38:35] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:38:35] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:38:39] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:38:39] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:39:07] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:39:07] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: What are the top 5 products by revenue in 2025?
[2025-04-01 13:39:07] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:39:07] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:39:11] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:39:11] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:41:07] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:41:07] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: How do sales vary by payment type across different locations?
[2025-04-01 13:41:07] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:41:07] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:41:10] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:41:10] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:42:18] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:42:18] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: What is the revenue trend by month for the 'Electronics' category?
[2025-04-01 13:42:18] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:42:18] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:42:22] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:42:22] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:43:50] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:43:50] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: What is the revenue trend by month for the 'Electronics' category?
[2025-04-01 13:43:50] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:43:50] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:44:01] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:44:01] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:56:51] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:56:51] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: Which categories have the highest revenue from online sales?
[2025-04-01 13:56:52] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:56:52] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:56:55] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:56:55] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:57:18] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:57:18] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: What is the revenue trend by month for the 'Electronics' category?
[2025-04-01 13:57:18] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:57:18] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:57:20] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:57:20] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:58:24] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:58:24] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: How do sales vary by payment type in the last 3 months?
[2025-04-01 13:58:24] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:58:24] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:58:27] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:58:27] INFO - app - main - log_requests - Response status: 200
[2025-04-01 13:59:02] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 13:59:02] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: How do sales vary by payment type across different locations?"
[2025-04-01 13:59:02] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 13:59:02] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 13:59:04] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 13:59:04] INFO - app - main - log_requests - Response status: 200
[2025-04-01 14:00:57] INFO - app - main - log_requests - Incoming request: POST http://127.0.0.1:8003/api/nlq/convert_nl_to_sql
[2025-04-01 14:00:57] INFO - api - nl_to_sql - convert_nlq_to_sql - Received NLQ request: How do sales vary by payment type across different locations? give top 10 location only?
[2025-04-01 14:00:57] INFO - api - nl_to_sql - convert_nlq_to_sql - Using database type: postgres
[2025-04-01 14:00:57] INFO - api - nl_to_sql - convert_nlq_to_sql - DB Schema: {'tables': [{'name': 'sales_data', 'columns': [{'name': 'transaction_id', 'type': 'TEXT'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'BIGINT'}, {'name': 'product_name', 'type': 'TEXT'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'price', 'type': 'DOUBLE PRECISION'}, {'name': 'discount', 'type': 'DOUBLE PRECISION'}, {'name': 'final_price', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'payment_type', 'type': 'TEXT'}, {'name': 'location', 'type': 'TEXT'}, {'name': 'sales_channel', 'type': 'TEXT'}, {'name': 'return_status', 'type': 'TEXT'}, {'name': 'inventory_status', 'type': 'TEXT'}, {'name': 'year', 'type': 'INTEGER'}, {'name': 'month', 'type': 'INTEGER'}, {'name': 'day', 'type': 'INTEGER'}, {'name': 'hour', 'type': 'INTEGER'}, {'name': 'weekday', 'type': 'INTEGER'}, {'name': 'is_weekend', 'type': 'BIGINT'}, {'name': '7_day_avg_revenue', 'type': 'DOUBLE PRECISION'}, {'name': 'revenue_change', 'type': 'DOUBLE PRECISION'}, {'name': 'customer_segment', 'type': 'TEXT'}], 'primary_keys': {'name': None, 'constrained_columns': []}, 'foreign_keys': []}, {'name': 'sales_data_partitioned', 'columns': [{'name': 'transaction_id', 'type': 'UUID'}, {'name': 'timestamp', 'type': 'TIMESTAMP'}, {'name': 'customer_id', 'type': 'INTEGER'}, {'name': 'product_id', 'type': 'INTEGER'}, {'name': 'category', 'type': 'TEXT'}, {'name': 'region', 'type': 'TEXT'}], 'primary_keys': {'constrained_columns': ['transaction_id', 'timestamp'], 'name': 'sales_data_partitioned_pkey', 'comment': None}, 'foreign_keys': []}], 'min_date': '2024-09-26', 'max_date': '2025-03-28'}
[2025-04-01 14:01:00] INFO - api - nl_to_sql - convert_nlq_to_sql - SQL query generated successfully
[2025-04-01 14:01:00] INFO - app - main - log_requests - Response status: 200
